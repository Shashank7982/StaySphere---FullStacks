<%- include('../partials/head') %>
</head>
<body class="airbnb-bg min-h-screen font-sans">
    <%- include('../partials/nav') %>
    
    <!-- Hero Section with Property Image -->
    <div class="relative w-full h-72 md:h-96 lg:h-[500px] overflow-hidden">
        <img src="<%= home.photo %>" alt="<%= home.houseName %>" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"></div>
        
        <!-- Back Button -->
        <a href="/store/homes" class="absolute top-4 left-4 w-10 h-10 bg-white/90 hover:bg-white rounded-full flex items-center justify-center shadow-lg transition-all z-20">
            <svg class="w-5 h-5 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
        </a>
        
        <!-- Share Button -->
        <button onclick="shareProperty()" class="absolute top-4 right-4 w-10 h-10 bg-white/90 hover:bg-white rounded-full flex items-center justify-center shadow-lg transition-all z-20">
            <svg class="w-5 h-5 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/>
            </svg>
        </button>
        
        <div class="absolute bottom-6 left-6 right-6 text-white">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-3 tracking-tight"><%= home.houseName %></h1>
            <div class="flex flex-wrap items-center gap-4 text-base md:text-lg">
                <div class="flex items-center bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full">
                    <svg class="w-4 h-4 mr-1 text-airbnb-red" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118l-2.8-2.034c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                    </svg>
                    <span class="font-semibold"><%= home.rating %></span>
                </div>
                <div class="flex items-center">
                    <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    <span><%= home.location %></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 -mt-8 relative z-10 max-w-5xl pb-12">
        <div class="airbnb-card p-6 sm:p-8 lg:p-10">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12">
                <!-- Left Column - Details -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- Host Info -->
                    <div class="flex items-center gap-4 pb-6 border-b border-gray-100">
                        <div class="w-14 h-14 bg-gradient-to-br from-red-100 to-pink-100 rounded-full flex items-center justify-center">
                            <svg class="w-7 h-7 text-airbnb-red" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                        </div>
                        <div>
                            <h2 class="text-xl font-semibold text-gray-900">Hosted by Superhost</h2>
                            <p class="text-gray-500">Joined in 2023 · 127 reviews</p>
                        </div>
                    </div>

                    <!-- Description -->
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-900 mb-4">About this place</h3>
                        <p class="text-gray-600 leading-relaxed text-lg"><%= home.description %></p>
                    </div>
                    
                    <!-- Amenities -->
                    <div class="pt-4">
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">What this place offers</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="flex items-center gap-3 text-gray-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                                <span>Wifi</span>
                            </div>
                            <div class="flex items-center gap-3 text-gray-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                                </svg>
                                <span>Kitchen</span>
                            </div>
                            <div class="flex items-center gap-3 text-gray-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                <span>Self check-in</span>
                            </div>
                            <div class="flex items-center gap-3 text-gray-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                                </svg>
                                <span>Free parking</span>
                            </div>
                        </div>
                    </div>

                    <!-- House Rules -->
                    <div class="pt-4">
                        <a href="/store/rulesPdf/<%=home._id%>" class="airbnb-link inline-flex items-center text-lg">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            Show house rules
                        </a>
                    </div>
                </div>
                
                <!-- Right Column - Booking Card -->
                <div class="lg:col-span-1">
                    <div class="airbnb-booking-card sticky top-24">
                        <div class="flex items-baseline justify-between mb-6">
                            <div class="flex items-baseline gap-1">
                                <span class="text-3xl font-bold text-gray-900">₹<%= home.price %></span>
                                <span class="text-gray-500">/ night</span>
                            </div>
                            <div class="flex items-center gap-1 text-sm">
                                <svg class="w-4 h-4 text-airbnb-red" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118l-2.8-2.034c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="font-medium"><%= home.rating %></span>
                            </div>
                        </div>

                        <!-- Date Pickers -->
                        <div class="border border-gray-300 rounded-t-lg overflow-hidden">
                            <div class="grid grid-cols-2 divide-x divide-gray-300">
                                <div class="p-3 hover:bg-gray-50 cursor-pointer">
                                    <label class="block text-xs font-bold text-gray-800 uppercase">Check-in</label>
                                    <input type="date" class="w-full bg-transparent text-sm text-gray-600 focus:outline-none" placeholder="Add date">
                                </div>
                                <div class="p-3 hover:bg-gray-50 cursor-pointer">
                                    <label class="block text-xs font-bold text-gray-800 uppercase">Checkout</label>
                                    <input type="date" class="w-full bg-transparent text-sm text-gray-600 focus:outline-none" placeholder="Add date">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Guests -->
                        <div class="border border-t-0 border-gray-300 rounded-b-lg p-3 hover:bg-gray-50 cursor-pointer mb-4">
                            <label class="block text-xs font-bold text-gray-800 uppercase">Guests</label>
                            <select class="w-full bg-transparent text-sm text-gray-600 focus:outline-none cursor-pointer">
                                <option>1 guest</option>
                                <option>2 guests</option>
                                <option>3 guests</option>
                                <option>4 guests</option>
                            </select>
                        </div>

                        <!-- Reserve Button -->
                        <button class="airbnb-reserve-btn w-full mb-4">
                            Reserve
                        </button>
                        
                        <p class="text-center text-gray-500 text-sm mb-6">You won't be charged yet</p>

                        <!-- Price Breakdown -->
                        <div class="space-y-3 text-gray-600 border-b border-gray-200 pb-4 mb-4">
                            <div class="flex justify-between">
                                <span class="underline">₹<%= home.price %> x 5 nights</span>
                                <span>₹<%= home.price * 5 %></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="underline">Cleaning fee</span>
                                <span>₹1,500</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="underline">Service fee</span>
                                <span>₹2,400</span>
                            </div>
                        </div>
                        
                        <div class="flex justify-between font-bold text-lg text-gray-900">
                            <span>Total</span>
                            <span>₹<%= (home.price * 5) + 1500 + 2400 %></span>
                        </div>

                        <!-- Favorite Button -->
                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <%-include('../partials/favourites',{home:home});%>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function shareProperty() {
            if (navigator.share) {
                navigator.share({
                    title: '<%= home.houseName %>',
                    text: 'Check out this amazing home on Airbnb!',
                    url: window.location.href
                });
            } else {
                // Fallback - copy to clipboard
                navigator.clipboard.writeText(window.location.href);
                alert('Link copied to clipboard!');
            }
        }
    </script>
</body>
</html>

<style>
    /* Airbnb Color Variables */
    :root {
        --airbnb-red: #FF5A5F;
        --airbnb-dark-red: #E00007;
        --airbnb-pink: #FF385C;
        --airbnb-text: #222222;
        --airbnb-gray: #717171;
        --airbnb-light-gray: #F7F7F7;
        --airbnb-border: #DDDDDD;
    }
    
    .text-airbnb-red {
        color: var(--airbnb-red);
    }
    
    /* Background */
    .airbnb-bg {
        background-color: #FFFFFF;
    }
    
    /* Card */
    .airbnb-card {
        background: white;
        border-radius: 16px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid var(--airbnb-border);
    }
    
    /* Link Style */
    .airbnb-link {
        color: var(--airbnb-text);
        text-decoration: underline;
        font-weight: 600;
        transition: color 0.2s ease;
    }
    
    .airbnb-link:hover {
        color: var(--airbnb-red);
    }
    
    /* Booking Card */
    .airbnb-booking-card {
        background: white;
        border: 1px solid var(--airbnb-border);
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
    }
    
    /* Reserve Button */
    .airbnb-reserve-btn {
        background: linear-gradient(135deg, var(--airbnb-red) 0%, var(--airbnb-pink) 100%);
        color: white;
        font-weight: 600;
        font-size: 16px;
        padding: 14px 24px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 2px 8px rgba(255, 90, 95, 0.3);
    }
    
    .airbnb-reserve-btn:hover {
        background: linear-gradient(135deg, var(--airbnb-dark-red) 0%, #E31C5F 100%);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(255, 90, 95, 0.4);
    }
</style>